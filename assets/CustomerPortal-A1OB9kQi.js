import{n as e}from"./rolldown-runtime-y2wrX6ue.js";import{h as t,o as n,r,s as i,t as a,u as o}from"./vendor-BU0KcxK_.js";import{d as s,f as c,h as l,l as u,m as d,s as f,u as p}from"./index-BdMkXWJv.js";var m=e(t()),h=e(a()),g=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/CustomerPortal/PortalHeader.tsx`;function _({customer:e,onLogout:t,notificationCount:r=0}){return(0,h.jsxDEV)(`header`,{className:`portal-header`,children:(0,h.jsxDEV)(`div`,{className:`portal-header-container`,children:[(0,h.jsxDEV)(`div`,{className:`portal-logo`,children:[(0,h.jsxDEV)(`img`,{src:c.logoIcon,width:`40`,height:`40`,alt:`Verdant Webworks`},void 0,!1,{fileName:g,lineNumber:22,columnNumber:11},this),(0,h.jsxDEV)(`span`,{className:`portal-logo-text`,children:`Customer Portal`},void 0,!1,{fileName:g,lineNumber:28,columnNumber:11},this)]},void 0,!0,{fileName:g,lineNumber:21,columnNumber:9},this),(0,h.jsxDEV)(`nav`,{className:`portal-nav`,children:[(0,h.jsxDEV)(n,{to:`/portal/account`,className:({isActive:e})=>e?`portal-nav-link active`:`portal-nav-link`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-user`},void 0,!1,{fileName:g,lineNumber:39,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`My Account`},void 0,!1,{fileName:g,lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:33,columnNumber:11},this),(0,h.jsxDEV)(n,{to:`/portal/messages`,className:({isActive:e})=>e?`portal-nav-link active`:`portal-nav-link`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-comments`},void 0,!1,{fileName:g,lineNumber:49,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`Messages`},void 0,!1,{fileName:g,lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:43,columnNumber:11},this),(0,h.jsxDEV)(n,{to:`/portal/dashboard`,className:({isActive:e})=>e?`portal-nav-link active`:`portal-nav-link`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-chart-line`},void 0,!1,{fileName:g,lineNumber:59,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`Site Dashboard`},void 0,!1,{fileName:g,lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:53,columnNumber:11},this),(0,h.jsxDEV)(n,{to:`/portal/billing`,className:({isActive:e})=>e?`portal-nav-link active`:`portal-nav-link`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-file-invoice-dollar`},void 0,!1,{fileName:g,lineNumber:69,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`Billing`},void 0,!1,{fileName:g,lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:63,columnNumber:11},this),(0,h.jsxDEV)(n,{to:`/portal/notifications`,className:({isActive:e})=>e?`portal-nav-link active`:`portal-nav-link`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-bell`},void 0,!1,{fileName:g,lineNumber:79,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`Notifications`},void 0,!1,{fileName:g,lineNumber:80,columnNumber:13},this),r>0&&(0,h.jsxDEV)(`span`,{className:`notification-badge`,children:r},void 0,!1,{fileName:g,lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:g,lineNumber:73,columnNumber:11},this)]},void 0,!0,{fileName:g,lineNumber:32,columnNumber:9},this),(0,h.jsxDEV)(`div`,{className:`portal-user-section`,children:[(0,h.jsxDEV)(`div`,{className:`portal-user-info`,children:[(0,h.jsxDEV)(`div`,{className:`portal-user-avatar`,children:[e.firstName[0],e.lastName[0]]},void 0,!0,{fileName:g,lineNumber:90,columnNumber:13},this),(0,h.jsxDEV)(`div`,{className:`portal-user-details`,children:[(0,h.jsxDEV)(`div`,{className:`portal-user-name`,children:[e.firstName,` `,e.lastName]},void 0,!0,{fileName:g,lineNumber:95,columnNumber:15},this),(0,h.jsxDEV)(`div`,{className:`portal-user-email`,children:e.email},void 0,!1,{fileName:g,lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:g,lineNumber:94,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:89,columnNumber:11},this),(0,h.jsxDEV)(`button`,{onClick:t,className:`portal-logout-btn`,children:[(0,h.jsxDEV)(`i`,{className:`fa-solid fa-right-from-bracket`},void 0,!1,{fileName:g,lineNumber:102,columnNumber:13},this),(0,h.jsxDEV)(`span`,{children:`Logout`},void 0,!1,{fileName:g,lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:g,lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:g,lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:g,lineNumber:19,columnNumber:7},this)},void 0,!1,{fileName:g,lineNumber:18,columnNumber:5},this)}var v=e(a()),y=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/forms/form-components/ShowPasswordCheckBox.tsx`;function b({label:e,showPassword:t,setShowPassword:n}){return(0,v.jsxDEV)(v.Fragment,{children:(0,v.jsxDEV)(`label`,{htmlFor:`show-password`,children:[(0,v.jsxDEV)(`input`,{type:`checkbox`,checked:t,onChange:e=>n(e.target.checked)},void 0,!1,{fileName:y,lineNumber:15,columnNumber:9},this),` `,e||`Show Password`]},void 0,!0,{fileName:y,lineNumber:14,columnNumber:7},this)},void 0,!1)}var x=e(a()),S=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/forms/form-components/PasswordInput.tsx`;function C({label:e,errorMessage:t,show:n,props:r,hasSharedState:i,currentSharedState:a}){let[o,s]=(0,m.useState)(!1);return(0,m.useEffect)(()=>{i&&a!==void 0&&s(a)},[i,a]),(0,x.jsxDEV)(`div`,{className:`password-input-container`,children:[(0,x.jsxDEV)(`div`,{className:`input-wrap`,children:[(0,x.jsxDEV)(`label`,{htmlFor:e,children:e},void 0,!1,{fileName:S,lineNumber:31,columnNumber:9},this),(0,x.jsxDEV)(`input`,{...r,type:o?`text`:`password`},void 0,!1,{fileName:S,lineNumber:32,columnNumber:9},this),(0,x.jsxDEV)(l,{message:t,show:n},void 0,!1,{fileName:S,lineNumber:33,columnNumber:9},this)]},void 0,!0,{fileName:S,lineNumber:30,columnNumber:7},this),!i&&(0,x.jsxDEV)(b,{showPassword:o,setShowPassword:s},void 0,!1,{fileName:S,lineNumber:36,columnNumber:9},this)]},void 0,!0,{fileName:S,lineNumber:29,columnNumber:5},this)}var w=e(a()),T=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/forms/CreateAccountForm.tsx`;function E({toggleCreateOrLogin:e}){let[t,n]=(0,m.useState)(``),[i,a]=(0,m.useState)(``),[o,c]=(0,m.useState)(``),[l,u]=(0,m.useState)(``),[f,p]=(0,m.useState)(``),[h,g]=(0,m.useState)(``),[_,v]=(0,m.useState)(``),[y,x]=(0,m.useState)(!1),[S,E]=(0,m.useState)(`idle`),D={firstName:t.length>0,lastName:i.length>0,email:o.length>0,phone:l.length===10,password:f.length>=8,confirmPassword:h===f&&h.length>=8},O={name:`This field is required.`,email:`Please enter a valid email address.`,phone:`Please enter a valid phone number.`};return(0,w.jsxDEV)(w.Fragment,{children:(0,w.jsxDEV)(`div`,{className:`form-container glass-form`,children:[(0,w.jsxDEV)(`h2`,{children:`Create Account`},void 0,!1,{fileName:T,lineNumber:88,columnNumber:9},this),(0,w.jsxDEV)(`p`,{children:`Create an account to start your journey with us.`},void 0,!1,{fileName:T,lineNumber:89,columnNumber:9},this),(0,w.jsxDEV)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!Object.values(D).every(e=>e)){r.error(`Please fill out all fields correctly`),E(`error`);return}E(`pending`);try{let e=await s({firstName:t,lastName:i,email:o,phone:l,password:f,confirmPassword:h});e.success?(r.success(`Registration successful! Welcome!`),n(``),a(``),c(``),u(``),p(``),g(``),E(`success`)):(r.error(e.error||`Failed to register`),E(`error`))}catch{r.error(`An unexpected error occurred`),E(`error`)}},children:[(0,w.jsxDEV)(`div`,{className:`form-split-container`,children:[(0,w.jsxDEV)(`div`,{className:`split-section`,children:[(0,w.jsxDEV)(d,{label:`First Name`,errorMessage:O.name,show:!D.firstName&&S===`error`,props:{type:`text`,value:t,onChange:e=>n(e.target.value)}},void 0,!1,{fileName:T,lineNumber:93,columnNumber:15},this),(0,w.jsxDEV)(d,{label:`Last Name`,errorMessage:O.name,show:!D.lastName&&S===`error`,props:{type:`text`,value:i,onChange:e=>a(e.target.value)}},void 0,!1,{fileName:T,lineNumber:103,columnNumber:15},this),(0,w.jsxDEV)(d,{label:`Email`,errorMessage:O.email,show:!D.email&&S===`error`,props:{type:`email`,value:o,onChange:e=>c(e.target.value)}},void 0,!1,{fileName:T,lineNumber:113,columnNumber:15},this),(0,w.jsxDEV)(d,{label:`Phone`,errorMessage:O.phone,show:!D.phone&&S===`error`,props:{type:`tel`,value:l,onChange:e=>u(e.target.value)}},void 0,!1,{fileName:T,lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:T,lineNumber:92,columnNumber:13},this),(0,w.jsxDEV)(`div`,{className:`split-section`,children:[(0,w.jsxDEV)(d,{label:`Business Name`,props:{type:`text`,value:_,onChange:e=>v(e.target.value)}},void 0,!1,{fileName:T,lineNumber:135,columnNumber:15},this),(0,w.jsxDEV)(C,{label:`Password`,errorMessage:O.name,show:!D.password&&S===`error`,hasSharedState:!0,currentSharedState:y,props:{type:`password`,value:f,onChange:e=>p(e.target.value)}},void 0,!1,{fileName:T,lineNumber:143,columnNumber:15},this),(0,w.jsxDEV)(C,{label:`Confirm Password`,errorMessage:O.name,show:!D.confirmPassword&&S===`error`,hasSharedState:!0,currentSharedState:y,props:{type:`password`,value:h,onChange:e=>g(e.target.value)}},void 0,!1,{fileName:T,lineNumber:155,columnNumber:15},this),(0,w.jsxDEV)(b,{label:`Show Passwords`,showPassword:y,setShowPassword:x},void 0,!1,{fileName:T,lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:T,lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:T,lineNumber:91,columnNumber:11},this),(0,w.jsxDEV)(`button`,{type:`submit`,className:`call-to-action`,disabled:S===`pending`,children:S===`pending`?`Submitting...`:`Submit`},void 0,!1,{fileName:T,lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:T,lineNumber:90,columnNumber:9},this),(0,w.jsxDEV)(`p`,{children:[`Already have an account?`,` `,(0,w.jsxDEV)(`a`,{className:`standard-link`,onClick:()=>e(),children:`Login`},void 0,!1,{fileName:T,lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:T,lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:T,lineNumber:87,columnNumber:7},this)},void 0,!1)}var D=e(a()),O=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/forms/LoginForm.tsx`;function k({onLoginSuccess:e,toggleCreateOrLogin:t}){let[n,i]=(0,m.useState)(``),[a,o]=(0,m.useState)(``),[s,c]=(0,m.useState)(!1),[l,u]=(0,m.useState)(`idle`),f={email:n.length>6&&n.includes(`@`),password:a.length>=8},h={email:`Please enter a valid email address.`,password:`Password must be at least 8 characters.`};return(0,D.jsxDEV)(D.Fragment,{children:(0,D.jsxDEV)(`div`,{className:`form-container glass-form`,children:[(0,D.jsxDEV)(`h2`,{children:`Customer Login`},void 0,!1,{fileName:O,lineNumber:75,columnNumber:9},this),(0,D.jsxDEV)(`p`,{children:`Access your customer portal to manage your projects.`},void 0,!1,{fileName:O,lineNumber:76,columnNumber:9},this),(0,D.jsxDEV)(`form`,{onSubmit:async t=>{if(t.preventDefault(),!Object.values(f).every(e=>e)){r.error(`Please fill out all fields correctly`),u(`error`);return}u(`pending`);try{let t=await p({email:n,password:a});t.success&&t.data?(r.success(`Login successful! Welcome back!`),u(`success`),e(t.data),i(``),o(``)):(r.error(t.error||`Invalid email or password`),u(`error`))}catch{r.error(`An unexpected error occurred`),u(`error`)}},children:[(0,D.jsxDEV)(d,{label:`Email`,errorMessage:h.email,show:!f.email&&l===`error`,props:{type:`email`,value:n,onChange:e=>i(e.target.value),autoComplete:`email`}},void 0,!1,{fileName:O,lineNumber:78,columnNumber:11},this),(0,D.jsxDEV)(C,{label:`Password`,errorMessage:h.password,show:!f.password&&l===`error`,hasSharedState:!0,currentSharedState:s,props:{type:`password`,value:a,onChange:e=>o(e.target.value),autoComplete:`current-password`}},void 0,!1,{fileName:O,lineNumber:89,columnNumber:11},this),(0,D.jsxDEV)(b,{label:`Show Password`,showPassword:s,setShowPassword:c},void 0,!1,{fileName:O,lineNumber:102,columnNumber:11},this),(0,D.jsxDEV)(`button`,{type:`submit`,className:`call-to-action`,disabled:l===`pending`,children:l===`pending`?`Logging in...`:`Login`},void 0,!1,{fileName:O,lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:O,lineNumber:77,columnNumber:9},this),(0,D.jsxDEV)(`div`,{className:`form-footer`,children:(0,D.jsxDEV)(`p`,{children:[`Don't have an account?`,` `,(0,D.jsxDEV)(`a`,{onClick:()=>t(),className:`standard-link`,children:`Create Account`},void 0,!1,{fileName:O,lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:O,lineNumber:116,columnNumber:11},this)},void 0,!1,{fileName:O,lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:O,lineNumber:74,columnNumber:7},this)},void 0,!1)}var A=e(a()),j=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/Components/CustomerPortal/Login.tsx`;function M({handleLoginSuccess:e}){let[t,n]=(0,m.useState)(!1);return(0,A.jsxDEV)(A.Fragment,{children:[(0,A.jsxDEV)(f,{},void 0,!1,{fileName:j,lineNumber:16,columnNumber:7},this),(0,A.jsxDEV)(`div`,{className:`portal-login-page`,children:[(0,A.jsxDEV)(`div`,{className:`blur-backdrop`},void 0,!1,{fileName:j,lineNumber:18,columnNumber:9},this),t&&(0,A.jsxDEV)(E,{toggleCreateOrLogin:()=>n(!t)},void 0,!1,{fileName:j,lineNumber:20,columnNumber:11},this),!t&&(0,A.jsxDEV)(k,{onLoginSuccess:e,toggleCreateOrLogin:()=>n(!t)},void 0,!1,{fileName:j,lineNumber:25,columnNumber:11},this)]},void 0,!0,{fileName:j,lineNumber:17,columnNumber:7},this),(0,A.jsxDEV)(u,{},void 0,!1,{fileName:j,lineNumber:31,columnNumber:7},this)]},void 0,!0)}var N=e(a()),P=`/home/esadmin/personal/portfolio-sites/verdant-webworks/src/pages/CustomerPortal.tsx`;function F(){let[e,t]=(0,m.useState)(!1),[n,r]=(0,m.useState)(null),a=o();return(0,m.useEffect)(()=>{let e=sessionStorage.getItem(`customerData`);if(e)try{let n=JSON.parse(e);r(n),t(!0)}catch(e){console.error(`Failed to parse stored customer data:`,e),sessionStorage.removeItem(`customerData`)}},[]),!e||!n?(0,N.jsxDEV)(N.Fragment,{children:[` `,(0,N.jsxDEV)(M,{handleLoginSuccess:e=>{r(e),t(!0),sessionStorage.setItem(`customerData`,JSON.stringify(e)),a(`/portal/account`)}},void 0,!1,{fileName:P,lineNumber:48,columnNumber:9},this)]},void 0,!0):(0,N.jsxDEV)(`div`,{className:`customer-portal`,children:[(0,N.jsxDEV)(_,{customer:n,onLogout:()=>{t(!1),r(null),sessionStorage.removeItem(`customerData`),a(`/portal`)},notificationCount:3},void 0,!1,{fileName:P,lineNumber:55,columnNumber:7},this),(0,N.jsxDEV)(`main`,{className:`portal-content`,children:(0,N.jsxDEV)(i,{context:{customer:n}},void 0,!1,{fileName:P,lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:P,lineNumber:60,columnNumber:7},this)]},void 0,!0,{fileName:P,lineNumber:54,columnNumber:5},this)}export{F as CustomerPortal};